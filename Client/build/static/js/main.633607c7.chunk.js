(this.webpackJsonpreact_api_app=this.webpackJsonpreact_api_app||[]).push([[0],{35:function(e,t,c){},56:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(27),s=c.n(a),o=(c(35),c(11)),r=c(2),i=c(10),l=c(9),j=c(5),d=c(16),u=c.n(d),b=c(28),m=c(29),h="@api_rest",O=c.n(m).a.create({baseURL:"http://localhost:5000/",headers:{"Content-type":"application/json"}});O.interceptors.request.use(function(){var e=Object(b.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=localStorage.getItem(h))&&(t.headers.Authorization="Bearer ".concat(c)),console.log(t.headers.Authorization),e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var g=O,p={getAll:function(){return g.get("/category")},get:function(e){return g.get("/category/".concat(e))},create:function(e){return g.post("/category",e)},update:function(e,t){return g.put("/category/".concat(e),t)},remove:function(e){return g.delete("/category/".concat(e))},findByName:function(e){return g.get("/category/GetByName/".concat(e))}},x=c(0),f=function(e){var t=Object(n.useState)({id:null,name:""}),c=Object(j.a)(t,2),a=c[0],s=c[1],o=Object(n.useState)(""),r=Object(j.a)(o,2),d=r[0],u=r[1];Object(n.useEffect)((function(){var t;t=e.match.params.id,p.get(t).then((function(e){s(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))}),[e.match.params.id]);return Object(x.jsx)("div",{children:a?Object(x.jsxs)("div",{className:"edit-form",children:[Object(x.jsx)("h4",{children:"Category"}),Object(x.jsx)("form",{children:Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"name",children:"Name"}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"name",name:"name",value:a.name,onChange:function(e){var t=e.target,c=t.name,n=t.value;s(Object(l.a)(Object(l.a)({},a),{},Object(i.a)({},c,n)))}})]})}),Object(x.jsx)("button",{className:"badge badge-danger mr-2",onClick:function(){p.remove(a.id).then((function(t){console.log(t.data),e.history.push("/category")})).catch((function(e){console.log(e)}))},children:"Delete"}),Object(x.jsx)("button",{type:"submit",className:"badge badge-success",onClick:function(){p.update(a.id,a).then((function(e){console.log(e.data),u("The category was updated successfully!")})).catch((function(e){console.log(e)}))},children:"Update"}),Object(x.jsx)("p",{children:d})]}):Object(x.jsxs)("div",{children:[Object(x.jsx)("br",{}),Object(x.jsx)("p",{children:"Please click on a Category..."})]})})},v=function(){var e={id:null,name:""},t=Object(n.useState)(e),c=Object(j.a)(t,2),a=c[0],s=c[1],o=Object(n.useState)(!1),r=Object(j.a)(o,2),d=r[0],u=r[1];return Object(x.jsx)("div",{className:"submit-form",children:d?Object(x.jsxs)("div",{children:[Object(x.jsx)("h4",{children:"You submitted successfully!"}),Object(x.jsx)("button",{className:"btn btn-success",onClick:function(){s(e),u(!1)},children:"Add"})]}):Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"name",children:"Name"}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"name",required:!0,value:a.name,onChange:function(e){var t=e.target,c=t.name,n=t.value;s(Object(l.a)(Object(l.a)({},a),{},Object(i.a)({},c,n)))},name:"name"})]}),Object(x.jsx)("button",{onClick:function(){var e={name:a.name};p.create(e).then((function(e){s({id:e.data.id,name:e.data.name}),u(!0),console.log(e.data)})).catch((function(e){console.log(e)}))},className:"btn btn-success",children:"Submit"})]})})},N=(c(56),function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(null),r=Object(j.a)(s,2),i=r[0],l=r[1],d=Object(n.useState)(-1),u=Object(j.a)(d,2),b=u[0],m=u[1],h=Object(n.useState)(""),O=Object(j.a)(h,2),g=O[0],f=O[1];Object(n.useEffect)((function(){v()}),[]);var v=function(){p.getAll().then((function(e){a(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))};return Object(x.jsxs)("div",{className:"list row",children:[Object(x.jsx)("div",{className:"col-md-8",children:Object(x.jsxs)("div",{className:"input-group mb-3",children:[Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"Search by name",value:g,onChange:function(e){var t=e.target.value;f(t)}}),Object(x.jsx)("div",{className:"input-group-append",children:Object(x.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:function(){""!==g?p.findByName(g).then((function(e){a(e.data),console.log(e.data)})).catch((function(e){console.log(e)})):v()},children:"Search"})})]})}),Object(x.jsxs)("div",{className:"col-md-6",children:[Object(x.jsx)("h4",{children:"Categorys List"}),Object(x.jsx)("ul",{className:"list-group",children:c&&c.map((function(e,t){return Object(x.jsx)("li",{className:"list-group-item "+(t===b?"active":""),style:{cursor:"pointer"},onClick:function(){return function(e,t){l(e),m(t)}(e,t)},children:e.name},t)}))})]}),Object(x.jsx)("div",{className:"col-md-6",children:i?Object(x.jsxs)("div",{children:[Object(x.jsx)("h4",{children:"Category"}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:Object(x.jsx)("strong",{children:"Name:"})})," ",i.name]}),Object(x.jsx)(o.b,{to:"/category/"+i.id,className:"badge badge-warning",children:"Edit"})]}):Object(x.jsxs)("div",{children:[Object(x.jsx)("br",{}),Object(x.jsx)("p",{children:"Please click on a Category..."})]})})]})}),y={login:function(e){return g.post("/api/authentication/",e)}},C=function(e){var t=Object(n.useState)({id:null,login:"",password:""}),c=Object(j.a)(t,2),a=c[0],s=c[1],o=function(e){var t=e.target,c=t.name,n=t.value;s(Object(l.a)(Object(l.a)({},a),{},Object(i.a)({},c,n)))};return Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"name",children:"Login"}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"login",required:!0,value:a.login,onChange:o,name:"login"})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"name",children:"Password"}),Object(x.jsx)("input",{type:"password",className:"form-control",id:"password",required:!0,value:a.password,onChange:o,name:"password"})]}),Object(x.jsx)("button",{onClick:function(){var t={login:a.login,password:a.password};y.login(t).then((function(t){var c,n;localStorage.setItem(h,null===(c=t.data)||void 0===c||null===(n=c.result)||void 0===n?void 0:n.token),console.log("@api_rest: "+localStorage.getItem(h)),e.history.push("/category")})).catch((function(e){console.log(e)}))},className:"btn btn-success",children:"Submit"})]})};c(65),c(66);var k=function(){return Object(x.jsxs)("div",{children:[Object(x.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:[Object(x.jsx)(o.b,{className:"navbar-brand",to:"/user",children:"Full Stack Devs"}),Object(x.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(o.b,{to:"/category",className:"nav-link",children:"Categories"})}),Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(o.b,{to:"/add",className:"nav-link",children:"Add"})})]})]}),Object(x.jsx)("div",{className:"container mt-3",children:Object(x.jsxs)(r.c,{children:[Object(x.jsx)(r.a,{exact:!0,path:["/","/user"],component:C}),Object(x.jsx)(r.a,{exact:!0,path:"/category",component:N}),Object(x.jsx)(r.a,{exact:!0,path:"/add",component:v}),Object(x.jsx)(r.a,{path:"/category/:id",component:f})]})})]})};s.a.render(Object(x.jsx)(o.a,{children:Object(x.jsx)(k,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.633607c7.chunk.js.map